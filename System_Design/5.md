# Medium-Difficulty System Design Questions & Answers

## 1. Design a Ride-Hailing App (like Uber)
**Question:** How would you design a ride-hailing application backend?  
**Answer:**  
- **Core Components:** Rider app, driver app, backend services, database, real-time location service.  
- **Flow:** Rider requests → Matching service finds nearest driver → Driver accepts → Trip tracking → Payment processing.  
- **Key Challenges:**  
  - Matching algorithm with low latency  
  - Real-time location updates (WebSockets / MQTT)  
  - Surge pricing  
- **Tech Stack:**  
  - Backend: Node.js/Java/Spring Boot  
  - Database: PostgreSQL for bookings, Redis for cache  
  - Communication: WebSockets or gRPC

---

## 2. Design a Chat Application with Read Receipts
**Question:** How to design a chat app that supports message read receipts?  
**Answer:**  
- **Data Model:**  
  - `messages` table with `read_by` array  
- **Flow:**  
  - Sender sends message → Stored in DB → Sent via WebSockets to receiver  
  - Receiver opens chat → Sends "read" event → Backend updates `read_by`  
- **Scaling:**  
  - Use message queues (Kafka) for delivery reliability  
  - Use Redis for storing temporary message states

---

## 3. Design a Collaborative Document Editor
**Question:** How to design Google Docs-like collaborative editing?  
**Answer:**  
- **Approach:**  
  - Use **Operational Transformation (OT)** or **Conflict-free Replicated Data Types (CRDT)**  
  - Real-time WebSocket connections for all editors  
  - Document stored in distributed storage (e.g., MongoDB or S3 for versions)  
- **Challenges:**  
  - Conflict resolution  
  - Real-time cursor tracking  
- **Scaling:**  
  - Use sharding for documents  
  - Store recent versions in cache for faster loading

---

## 4. Design a Food Delivery System
**Question:** How to design Swiggy/Zomato backend?  
**Answer:**  
- **Core Components:**  
  - Restaurant service, Order service, Delivery service, Payment service  
- **Flow:**  
  - User selects restaurant → Places order → Kitchen updates → Delivery assigned → Order delivered  
- **Challenges:**  
  - Real-time order status updates  
  - Delivery route optimization  
- **Scaling:**  
  - Use Kafka for event-driven updates  
  - Geo-indexing with MongoDB or Elasticsearch

---

## 5. Design a Parking Lot System
**Question:** How to design a smart parking lot system?  
**Answer:**  
- **Core Components:**  
  - Entry/Exit gate sensors, Payment kiosk, Reservation service  
- **Flow:**  
  - Car enters → Sensor detects → Slot assigned → Payment at exit or online  
- **Data Model:**  
  - `slots` table with status (available/occupied/reserved)  
- **Scaling:**  
  - Cache slot availability in Redis  
  - Use IoT devices for real-time slot updates

---

## 6. Design a URL Shortener with Expiration
**Question:** How to design Bitly-like system where links expire?  
**Answer:**  
- **Flow:**  
  - User submits long URL + expiry time → Generate short code → Store in DB with expiry  
  - On request → Check if expired → Redirect or return error  
- **Scaling:**  
  - Use Redis TTL for quick expiration  
  - Pre-generate short codes to avoid collisions  
- **Tech Stack:**  
  - Backend: Go/Java  
  - Database: PostgreSQL for persistence, Redis for fast lookups

---

## 7. Design an Email Scheduling Service
**Question:** How to design Gmail's "Send Later" feature?  
**Answer:**  
- **Flow:**  
  - User schedules email → Stored in DB with timestamp  
  - Scheduler service polls for due emails → Sends via SMTP  
- **Scaling:**  
  - Use priority queues (RabbitMQ) for sending tasks  
  - Partition by send time for efficient polling  
- **Challenges:**  
  - Timezone handling  
  - Retry mechanism for failed sends

---

## 8. Design an Inventory Management System
**Question:** How to design inventory management for e-commerce?  
**Answer:**  
- **Flow:**  
  - Orders reserve stock → If payment succeeds, stock decreases → If fails, release stock  
- **Data Model:**  
  - `products` table with `available_quantity`  
- **Scaling:**  
  - Use optimistic locking to avoid overselling  
  - Cache frequently accessed products in Redis  
- **Challenges:**  
  - Synchronization across warehouses

---

## 9. Design a Ticket Booking System for Events
**Question:** How to design BookMyShow-like backend?  
**Answer:**  
- **Flow:**  
  - Show seat layout → Lock seat for a few minutes on selection → Confirm booking on payment  
- **Scaling:**  
  - Use Redis locks to avoid double booking  
  - Partition by event ID for database queries  
- **Challenges:**  
  - High traffic during popular events  
  - Seat locking expiration handling

---

## 10. Design a Fitness Tracking App
**Question:** How to design a Strava-like activity tracker?  
**Answer:**  
- **Flow:**  
  - Mobile app collects GPS data → Sends to backend → Process for distance, speed, calories → Store results  
- **Scaling:**  
  - Use time-series databases (TimescaleDB) for activity logs  
  - Cache recent workouts for faster retrieval  
- **Challenges:**  
  - Battery-efficient location tracking  
  - Handling GPS inaccuracies
